(function(e){if(typeof define==="function"&&define.amd){define(["jquery","jquery-ui"],e)}else{e(jQuery)}})(function($){$.ui.timepicker=$.ui.timepicker||{};if($.ui.timepicker.version){return}$.extend($.ui,{timepicker:{version:"1.6.3"}});var Timepicker=function(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:false};this._defaults={showButtonPanel:true,timeOnly:false,timeOnlyShowDate:false,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:true,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:true,separator:" ",altFieldTimeOnly:true,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:true,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:true,timezoneList:null,addSliderAccess:false,sliderAccessArgs:null,controlType:"slider",oneLine:false,defaultValue:null,parse:"strict",afterInject:null};$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){extendRemove(this._defaults,e||{});return this},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults){if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue){try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}}overrides={beforeShow:function(e,t){if($.isFunction(tp_inst._defaults.evnts.beforeShow)){return tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst)}},onChangeMonthYear:function(e,t,i){if($.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)){tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)}},onClose:function(e,t){if(tp_inst.timeDefined===true&&$input.val()!==""){tp_inst._updateDateTime(t)}if($.isFunction(tp_inst._defaults.evnts.onClose)){tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}}};for(i in overrides){if(overrides.hasOwnProperty(i)){fns[i]=opts[i]||this._defaults[i]||null}}tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst});tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()});tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()});tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:""));if(typeof tp_inst._defaults.controlType==="string"){if(tp_inst._defaults.controlType==="slider"&&typeof $.ui.slider==="undefined"){tp_inst._defaults.controlType="select"}tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]}else{tp_inst.control=tp_inst._defaults.controlType}var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];if(tp_inst._defaults.timezoneList!==null){timezoneList=tp_inst._defaults.timezoneList}var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&typeof timezoneList[0]!=="object"){for(;tzi<tzl;tzi++){tzv=timezoneList[tzi];timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)}}}tp_inst._defaults.timezoneList=timezoneList;tp_inst.timezone=tp_inst._defaults.timezone!==null?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):(new Date).getTimezoneOffset()*-1;tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour;tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute;tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second;tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec;tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec;tp_inst.ampm="";tp_inst.$input=$input;if(tp_inst._defaults.altField){tp_inst.$altInput=$(tp_inst._defaults.altField);if(tp_inst._defaults.altRedirectFocus===true){tp_inst.$altInput.css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})}}if(tp_inst._defaults.minDate===0||tp_inst._defaults.minDateTime===0){tp_inst._defaults.minDate=new Date}if(tp_inst._defaults.maxDate===0||tp_inst._defaults.maxDateTime===0){tp_inst._defaults.maxDate=new Date}if(tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date){tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())}if(tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date){tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())}if(tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date){tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())}if(tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date){tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())}tp_inst.$input.bind("focus",function(){tp_inst._onFocus()});return tp_inst},_addTimePicker:function(e){var t=$.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(t);this._limitMinMaxDateTime(e,false);this._injectTimePicker();this._afterInject()},_parseTime:function(t,e){if(!this.inst){this.inst=$.datepicker._getInst(this.$input[0])}if(e||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var s=parseDateTimeInternal(i,this._defaults.timeFormat,t,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!s.timeObj){return false}$.extend(this,s.timeObj)}catch(e){$.timepicker.log("Error parsing the date/time string: "+e+"\ndate/time string = "+t+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i);return false}return true}else{var n=$.datepicker.parseTime(this._defaults.timeFormat,t,this._defaults);if(!n){return false}$.extend(this,n);return true}},_afterInject:function(){var e=this.inst.settings;if($.isFunction(e.afterInject)){e.afterInject.call(this)}},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,r=this,l="",i="",s=null,n={},a={},u=null,o=0,c=0;if(e.find("div.ui-timepicker-div").length===0&&t.showTimepicker){var m=" ui_tpicker_unit_hide",d='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+(t.oneLine&&t.controlType==="select"?" ui-timepicker-oneLine":"")+'"><dl>'+'<dt class="ui_tpicker_time_label'+(t.showTime?"":m)+'">'+t.timeText+"</dt>"+'<dd class="ui_tpicker_time '+(t.showTime?"":m)+'"><input class="ui_tpicker_time_input" '+(t.timeInput?"":"disabled")+"/></dd>";for(o=0,c=this.units.length;o<c;o++){l=this.units[o];i=l.substr(0,1).toUpperCase()+l.substr(1);s=t["show"+i]!==null?t["show"+i]:this.support[l];n[l]=parseInt(t[l+"Max"]-(t[l+"Max"]-t[l+"Min"])%t["step"+i],10);a[l]=0;d+='<dt class="ui_tpicker_'+l+"_label"+(s?"":m)+'">'+t[l+"Text"]+"</dt>"+'<dd class="ui_tpicker_'+l+(s?"":m)+'"><div class="ui_tpicker_'+l+"_slider"+(s?"":m)+'"></div>';if(s&&t[l+"Grid"]>0){d+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';if(l==="hour"){for(var f=t[l+"Min"];f<=n[l];f+=parseInt(t[l+"Grid"],10)){a[l]++;var p=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:f},t);d+='<td data-for="'+l+'">'+p+"</td>"}}else{for(var h=t[l+"Min"];h<=n[l];h+=parseInt(t[l+"Grid"],10)){a[l]++;d+='<td data-for="'+l+'">'+(h<10?"0":"")+h+"</td>"}}d+="</tr></table></div>"}d+="</dd>"}var _=t.showTimezone!==null?t.showTimezone:this.support.timezone;d+='<dt class="ui_tpicker_timezone_label'+(_?"":m)+'">'+t.timezoneText+"</dt>";d+='<dd class="ui_tpicker_timezone'+(_?"":m)+'"></dd>';d+="</dl></div>";var g=$(d);if(t.timeOnly===true){g.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all">'+'<div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div>"+"</div>");e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()}for(o=0,c=r.units.length;o<c;o++){l=r.units[o];i=l.substr(0,1).toUpperCase()+l.substr(1);s=t["show"+i]!==null?t["show"+i]:this.support[l];r[l+"_slider"]=r.control.create(r,g.find(".ui_tpicker_"+l+"_slider"),l,r[l],t[l+"Min"],n[l],t["step"+i]);if(s&&t[l+"Grid"]>0){u=100*a[l]*t[l+"Grid"]/(n[l]-t[l+"Min"]);g.find(".ui_tpicker_"+l+" table").css({width:u+"%",marginLeft:t.isRTL?"0":u/(-2*a[l])+"%",marginRight:t.isRTL?u/(-2*a[l])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(e){var t=$(this),i=t.html(),s=parseInt(i.replace(/[^0-9]/g),10),n=i.replace(/[^apm]/gi),a=t.data("for");if(a==="hour"){if(n.indexOf("p")!==-1&&s<12){s+=12}else{if(n.indexOf("a")!==-1&&s===12){s=0}}}r.control.value(r,r[a+"_slider"],l,s);r._onTimeChange();r._onSelectHandler()}).css({cursor:"pointer",width:100/a[l]+"%",textAlign:"center",overflow:"hidden"})}}this.timezone_select=g.find(".ui_tpicker_timezone").append("<select></select>").find("select");$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e,t){return $("<option />").val(typeof e==="object"?e.value:e).text(typeof e==="object"?e.label:e)}));if(typeof this.timezone!=="undefined"&&this.timezone!==null&&this.timezone!==""){var M=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()*-1;if(M===this.timezone){selectLocalTimezone(r)}else{this.timezone_select.val(this.timezone)}}else{if(typeof this.hour!=="undefined"&&this.hour!==null&&this.hour!==""){this.timezone_select.val(t.timezone)}else{selectLocalTimezone(r)}}this.timezone_select.change(function(){r._onTimeChange();r._onSelectHandler();r._afterInject()});var v=e.find(".ui-datepicker-buttonpane");if(v.length){v.before(g)}else{e.append(g)}this.$timeObj=g.find(".ui_tpicker_time_input");this.$timeObj.change(function(){var e=r.inst.settings.timeFormat;var t=$.datepicker.parseTime(e,this.value);var i=new Date;if(t){i.setHours(t.hour);i.setMinutes(t.minute);i.setSeconds(t.second);$.datepicker._setTime(r.inst,i)}else{this.value=r.formattedTime;this.blur()}});if(this.inst!==null){var k=this.timeDefined;this._onTimeChange();this.timeDefined=k}if(this._defaults.addSliderAccess){var T=this._defaults.sliderAccessArgs,D=this._defaults.isRTL;T.isRTL=D;setTimeout(function(){if(g.find(".ui-slider-access").length===0){g.find(".ui-slider:visible").sliderAccess(T);var r=g.find(".ui-slider-access:eq(0)").outerWidth(true);if(r){g.find("table:visible").each(function(){var e=$(this),t=e.outerWidth(),i=e.css(D?"marginRight":"marginLeft").toString().replace("%",""),s=t-r,n=i*s/t+"%",a={width:s,marginRight:0,marginLeft:0};a[D?"marginRight":"marginLeft"]=n;e.css(a)})}}},10)}r._limitMinMaxDateTime(this.inst,true)}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,s=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(!this._defaults.showTimepicker){return}if($.datepicker._get(e,"minDateTime")!==null&&$.datepicker._get(e,"minDateTime")!==undefined&&s){var n=$.datepicker._get(e,"minDateTime"),a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null||this.microsecMinOriginal===null){this.hourMinOriginal=i.hourMin;this.minuteMinOriginal=i.minuteMin;this.secondMinOriginal=i.secondMin;this.millisecMinOriginal=i.millisecMin;this.microsecMinOriginal=i.microsecMin}if(e.settings.timeOnly||a.getTime()===s.getTime()){this._defaults.hourMin=n.getHours();if(this.hour<=this._defaults.hourMin){this.hour=this._defaults.hourMin;this._defaults.minuteMin=n.getMinutes();if(this.minute<=this._defaults.minuteMin){this.minute=this._defaults.minuteMin;this._defaults.secondMin=n.getSeconds();if(this.second<=this._defaults.secondMin){this.second=this._defaults.secondMin;this._defaults.millisecMin=n.getMilliseconds();if(this.millisec<=this._defaults.millisecMin){this.millisec=this._defaults.millisecMin;this._defaults.microsecMin=n.getMicroseconds()}else{if(this.microsec<this._defaults.microsecMin){this.microsec=this._defaults.microsecMin}this._defaults.microsecMin=this.microsecMinOriginal}}else{this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}else{this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}else{this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}else{this._defaults.hourMin=this.hourMinOriginal;this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}if($.datepicker._get(e,"maxDateTime")!==null&&$.datepicker._get(e,"maxDateTime")!==undefined&&s){var r=$.datepicker._get(e,"maxDateTime"),l=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null||this.millisecMaxOriginal===null){this.hourMaxOriginal=i.hourMax;this.minuteMaxOriginal=i.minuteMax;this.secondMaxOriginal=i.secondMax;this.millisecMaxOriginal=i.millisecMax;this.microsecMaxOriginal=i.microsecMax}if(e.settings.timeOnly||l.getTime()===s.getTime()){this._defaults.hourMax=r.getHours();if(this.hour>=this._defaults.hourMax){this.hour=this._defaults.hourMax;this._defaults.minuteMax=r.getMinutes();if(this.minute>=this._defaults.minuteMax){this.minute=this._defaults.minuteMax;this._defaults.secondMax=r.getSeconds();if(this.second>=this._defaults.secondMax){this.second=this._defaults.secondMax;this._defaults.millisecMax=r.getMilliseconds();if(this.millisec>=this._defaults.millisecMax){this.millisec=this._defaults.millisecMax;this._defaults.microsecMax=r.getMicroseconds()}else{if(this.microsec>this._defaults.microsecMax){this.microsec=this._defaults.microsecMax}this._defaults.microsecMax=this.microsecMaxOriginal}}else{this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}else{this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}else{this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}else{this._defaults.hourMax=this.hourMaxOriginal;this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}if(e.settings.minTime!==null){var u=new Date("01/01/1970 "+e.settings.minTime);if(this.hour<u.getHours()){this.hour=this._defaults.hourMin=u.getHours();this.minute=this._defaults.minuteMin=u.getMinutes()}else if(this.hour===u.getHours()&&this.minute<u.getMinutes()){this.minute=this._defaults.minuteMin=u.getMinutes()}else{if(this._defaults.hourMin<u.getHours()){this._defaults.hourMin=u.getHours();this._defaults.minuteMin=u.getMinutes()}else if(this._defaults.hourMin===u.getHours()===this.hour&&this._defaults.minuteMin<u.getMinutes()){this._defaults.minuteMin=u.getMinutes()}else{this._defaults.minuteMin=0}}}if(e.settings.maxTime!==null){var o=new Date("01/01/1970 "+e.settings.maxTime);if(this.hour>o.getHours()){this.hour=this._defaults.hourMax=o.getHours();this.minute=this._defaults.minuteMax=o.getMinutes()}else if(this.hour===o.getHours()&&this.minute>o.getMinutes()){this.minute=this._defaults.minuteMax=o.getMinutes()}else{if(this._defaults.hourMax>o.getHours()){this._defaults.hourMax=o.getHours();this._defaults.minuteMax=o.getMinutes()}else if(this._defaults.hourMax===o.getHours()===this.hour&&this._defaults.minuteMax>o.getMinutes()){this._defaults.minuteMax=o.getMinutes()}else{this._defaults.minuteMax=59}}}if(t!==undefined&&t===true){var c=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),m=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),d=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),f=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),p=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);if(this.hour_slider){this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:c,step:this._defaults.stepHour});this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)}if(this.minute_slider){this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:m,step:this._defaults.stepMinute});this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)}if(this.second_slider){this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:d,step:this._defaults.stepSecond});this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)}if(this.millisec_slider){this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:f,step:this._defaults.stepMillisec});this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)}if(this.microsec_slider){this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:p,step:this._defaults.stepMicrosec});this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec)}}},_onTimeChange:function(){if(!this._defaults.showTimepicker){return}var e=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):false,t=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):false,i=this.second_slider?this.control.value(this,this.second_slider,"second"):false,s=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):false,n=this.microsec_slider?this.control.value(this,this.microsec_slider,"microsec"):false,a=this.timezone_select?this.timezone_select.val():false,r=this._defaults,l=r.pickerTimeFormat||r.timeFormat,u=r.pickerTimeSuffix||r.timeSuffix;if(typeof e==="object"){e=false}if(typeof t==="object"){t=false}if(typeof i==="object"){i=false}if(typeof s==="object"){s=false}if(typeof n==="object"){n=false}if(typeof a==="object"){a=false}if(e!==false){e=parseInt(e,10)}if(t!==false){t=parseInt(t,10)}if(i!==false){i=parseInt(i,10)}if(s!==false){s=parseInt(s,10)}if(n!==false){n=parseInt(n,10)}if(a!==false){a=a.toString()}var o=r[e<12?"amNames":"pmNames"][0];var c=e!==parseInt(this.hour,10)||t!==parseInt(this.minute,10)||i!==parseInt(this.second,10)||s!==parseInt(this.millisec,10)||n!==parseInt(this.microsec,10)||this.ampm.length>0&&e<12!==($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||this.timezone!==null&&a!==this.timezone.toString();if(c){if(e!==false){this.hour=e}if(t!==false){this.minute=t}if(i!==false){this.second=i}if(s!==false){this.millisec=s}if(n!==false){this.microsec=n}if(a!==false){this.timezone=a}if(!this.inst){this.inst=$.datepicker._getInst(this.$input[0])}this._limitMinMaxDateTime(this.inst,true)}if(this.support.ampm){this.ampm=o}this.formattedTime=$.datepicker.formatTime(r.timeFormat,this,r);if(this.$timeObj){if(l===r.timeFormat){this.$timeObj.val(this.formattedTime+u)}else{this.$timeObj.val($.datepicker.formatTime(l,this,r)+u)}if(this.$timeObj[0].setSelectionRange){var m=this.$timeObj[0].selectionStart;var d=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(m,d)}}this.timeDefined=true;if(c){this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect;var t=this.$input?this.$input[0]:null;if(e&&t){e.apply(t,[this.formattedDateTime,this])}},_updateDateTime:function(e){e=this.inst||e;var t=e.currentYear>0?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=$.datepicker._daylightSavingAdjust(t),s=$.datepicker._get(e,"dateFormat"),n=$.datepicker._getFormatConfig(e),a=i!==null&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(s,i===null?new Date:i,n);var r=this.formattedDate;if(e.lastVal===""){e.currentYear=e.selectedYear;e.currentMonth=e.selectedMonth;e.currentDay=e.selectedDay}if(this._defaults.timeOnly===true&&this._defaults.timeOnlyShowDate===false){r=this.formattedTime}else if(this._defaults.timeOnly!==true&&(this._defaults.alwaysSetTime||a)||this._defaults.timeOnly===true&&this._defaults.timeOnlyShowDate===true){r+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix}this.formattedDateTime=r;if(!this._defaults.showTimepicker){this.$input.val(this.formattedDate)}else if(this.$altInput&&this._defaults.timeOnly===false&&this._defaults.altFieldTimeOnly===true){this.$altInput.val(this.formattedTime);this.$input.val(this.formattedDate)}else if(this.$altInput){this.$input.val(r);var l="",u=this._defaults.altSeparator!==null?this._defaults.altSeparator:this._defaults.separator,o=this._defaults.altTimeSuffix!==null?this._defaults.altTimeSuffix:this._defaults.timeSuffix;if(!this._defaults.timeOnly){if(this._defaults.altFormat){l=$.datepicker.formatDate(this._defaults.altFormat,i===null?new Date:i,n)}else{l=this.formattedDate}if(l){l+=u}}if(this._defaults.altTimeFormat!==null){l+=$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+o}else{l+=this.formattedTime+o}this.$altInput.val(l)}else{this.$input.val(r)}this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t){if(t._defaults.timeOnly&&e.input.val()!==e.lastVal){try{$.datepicker._updateDatepicker(e)}catch(e){$.timepicker.log(e)}}}}},_controls:{slider:{create:function(i,e,s,t,n,a,r){var l=i._defaults.isRTL;return e.prop("slide",null).slider({orientation:"horizontal",value:l?t*-1:t,min:l?a*-1:n,max:l?n*-1:a,step:r,slide:function(e,t){i.control.value(i,$(this),s,l?t.value*-1:t.value);i._onTimeChange()},stop:function(e,t){i._onSelectHandler()}})},options:function(e,t,i,s,n){if(e._defaults.isRTL){if(typeof s==="string"){if(s==="min"||s==="max"){if(n!==undefined){return t.slider(s,n*-1)}return Math.abs(t.slider(s))}return t.slider(s)}var a=s.min,r=s.max;s.min=s.max=null;if(a!==undefined){s.max=a*-1}if(r!==undefined){s.min=r*-1}return t.slider(s)}if(typeof s==="string"&&n!==undefined){return t.slider(s,n)}return t.slider(s)},value:function(e,t,i,s){if(e._defaults.isRTL){if(s!==undefined){return t.slider("value",s*-1)}return Math.abs(t.slider("value"))}if(s!==undefined){return t.slider("value",s)}return t.slider("value")}},select:{create:function(t,e,i,s,n,a,r){var l='<select class="ui-timepicker-select ui-state-default ui-corner-all" data-unit="'+i+'" data-min="'+n+'" data-max="'+a+'" data-step="'+r+'">',u=t._defaults.pickerTimeFormat||t._defaults.timeFormat;for(var o=n;o<=a;o+=r){l+='<option value="'+o+'"'+(o===s?" selected":"")+">";if(i==="hour"){l+=$.datepicker.formatTime($.trim(u.replace(/[^ht ]/gi,"")),{hour:o},t._defaults)}else if(i==="millisec"||i==="microsec"||o>=10){l+=o}else{l+="0"+o.toString()}l+="</option>"}l+="</select>";e.children("select").remove();$(l).appendTo(e).change(function(e){t._onTimeChange();t._onSelectHandler();t._afterInject()});return e},options:function(e,t,i,s,n){var a={},r=t.children("select");if(typeof s==="string"){if(n===undefined){return r.data(s)}a[s]=n}else{a=s}return e.control.create(e,t,r.data("unit"),r.val(),a.min>=0?a.min:r.data("min"),a.max||r.data("max"),a.step||r.data("step"))},value:function(e,t,i,s){var n=t.children("select");if(s!==undefined){return n.val(s)}return n.val()}}}});$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);if(typeof e==="object"){t[0]=$.extend(e,{timeOnly:true})}return $(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(t){t=t||{};var i=arguments;if(typeof t==="string"){if(t==="getDate"||t==="option"&&i.length===2&&typeof i[1]==="string"){return $.fn.datepicker.apply($(this[0]),i)}else{return this.each(function(){var e=$(this);e.datepicker.apply(e,i)})}}else{return this.each(function(){var e=$(this);e.datepicker($.timepicker._newInst(e,t)._defaults)})}}});$.datepicker.parseDateTime=function(e,t,i,s,n){var a=parseDateTimeInternal(e,t,i,s,n);if(a.timeObj){var r=a.timeObj;a.date.setHours(r.hour,r.minute,r.second,r.millisec);a.date.setMicroseconds(r.microsec)}return a.date};$.datepicker.parseTime=function(e,t,i){var s=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),n=e.replace(/\'.*?\'/g,"").indexOf("Z")!==-1;var a=function(e,t,i){var s=function(e,t){var i=[];if(e){$.merge(i,e)}if(t){$.merge(i,t)}i=$.map(i,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")});return"("+i.join("|")+")?"};var n=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t){for(var s=0;s<t.length;s++){if(i[t[s].toString().charAt(0)]===-1){i[t[s].toString().charAt(0)]=s+1}}}return i};var a="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case"h":return t===1?"(\\d?\\d)":"(\\d{"+t+"})";case"m":return t===1?"(\\d?\\d)":"(\\d{"+t+"})";case"s":return t===1?"(\\d?\\d)":"(\\d{"+t+"})";case"l":return"(\\d?\\d?\\d)";case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return s(i.amNames,i.pmNames);default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",r=n(e),l="",u;u=t.match(new RegExp(a,"i"));var o={hour:0,minute:0,second:0,millisec:0,microsec:0};if(u){if(r.t!==-1){if(u[r.t]===undefined||u[r.t].length===0){l="";o.ampm=""}else{l=$.inArray(u[r.t].toUpperCase(),$.map(i.amNames,function(e,t){return e.toUpperCase()}))!==-1?"AM":"PM";o.ampm=i[l==="AM"?"amNames":"pmNames"][0]}}if(r.h!==-1){if(l==="AM"&&u[r.h]==="12"){o.hour=0}else{if(l==="PM"&&u[r.h]!=="12"){o.hour=parseInt(u[r.h],10)+12}else{o.hour=Number(u[r.h])}}}if(r.m!==-1){o.minute=Number(u[r.m])}if(r.s!==-1){o.second=Number(u[r.s])}if(r.l!==-1){o.millisec=Number(u[r.l])}if(r.c!==-1){o.microsec=Number(u[r.c])}if(r.z!==-1&&u[r.z]!==undefined){o.timezone=$.timepicker.timezoneOffsetNumber(u[r.z])}return o}return false};var r=function(t,i,s){try{var e=new Date("2012-01-01 "+i);if(isNaN(e.getTime())){e=new Date("2012-01-01T"+i);if(isNaN(e.getTime())){e=new Date("01/01/2012 "+i);if(isNaN(e.getTime())){throw"Unable to parse time with native Date: "+i}}}return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisec:e.getMilliseconds(),microsec:e.getMicroseconds(),timezone:e.getTimezoneOffset()*-1}}catch(e){try{return a(t,i,s)}catch(e){$.timepicker.log("Unable to parse \ntimeString: "+i+"\ntimeFormat: "+t)}}return false};if(typeof s.parse==="function"){return s.parse(e,t,s)}if(s.parse==="loose"){return r(e,t,s)}return a(e,t,s)};$.datepicker.formatTime=function(e,t,i){i=i||{};i=$.extend({},$.timepicker._defaults,i);t=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t);var s=e,n=i.amNames[0],a=parseInt(t.hour,10);if(a>11){n=i.pmNames[0]}s=s.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){switch(e){case"HH":return("0"+a).slice(-2);case"H":return a;case"hh":return("0"+convert24to12(a)).slice(-2);case"h":return convert24to12(a);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(t.timezone===null?i.timezone:t.timezone,false);case"Z":return $.timepicker.timezoneOffsetString(t.timezone===null?i.timezone:t.timezone,true);case"T":return n.charAt(0).toUpperCase();case"TT":return n.toUpperCase();case"t":return n.charAt(0).toLowerCase();case"tt":return n.toLowerCase();default:return e.replace(/'/g,"")}});return s};$.datepicker._base_selectDate=$.datepicker._selectDate;$.datepicker._selectDate=function(e,t){var i=this._getInst($(e)[0]),s=this._get(i,"timepicker"),n;if(s&&i.settings.showTimepicker){s._limitMinMaxDateTime(i,true);n=i.inline;i.inline=i.stay_open=true;this._base_selectDate(e,t);i.inline=n;i.stay_open=false;this._notifyChange(i);this._updateDatepicker(i)}else{this._base_selectDate(e,t)}};$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(e){var t=e.input[0];if($.datepicker._curInst&&$.datepicker._curInst!==e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t){return}if(typeof e.stay_open!=="boolean"||e.stay_open===false){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");if(i){i._addTimePicker(e)}}};$.datepicker._base_doKeyPress=$.datepicker._doKeyPress;$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i){if($.datepicker._get(t,"constrainInput")){var s=i.support.ampm,n=i._defaults.showTimezone!==null?i._defaults.showTimezone:i.support.timezone,a=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,s?"APM":"").replace(/Tt/g,s?"AaPpMm":"").replace(/tT/g,s?"AaPpMm":"").replace(/T/g,s?"AP":"").replace(/tt/g,s?"apm":"").replace(/t/g,s?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(n?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+a,l=String.fromCharCode(e.charCode===undefined?e.keyCode:e.charCode);return e.ctrlKey||(l<" "||!a||r.indexOf(l)>-1)}}return $.datepicker._base_doKeyPress(e)};$.datepicker._base_updateAlternate=$.datepicker._updateAlternate;$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){var s=t._defaults.altFormat||t._defaults.dateFormat,n=this._getDate(e),a=$.datepicker._getFormatConfig(e),r="",l=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,u=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,o=t._defaults.altTimeFormat!==null?t._defaults.altTimeFormat:t._defaults.timeFormat;r+=$.datepicker.formatTime(o,t,t._defaults)+u;if(!t._defaults.timeOnly&&!t._defaults.altFieldTimeOnly&&n!==null){if(t._defaults.altFormat){r=$.datepicker.formatDate(t._defaults.altFormat,n,a)+l+r}else{r=t.formattedDate+l+r}}$(i).val(e.input.val()?r:"")}}else{$.datepicker._base_updateAlternate(e)}};$.datepicker._base_doKeyUp=$.datepicker._doKeyUp;$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i){if(i._defaults.timeOnly&&t.input.val()!==t.lastVal){try{$.datepicker._updateDatepicker(t)}catch(e){$.timepicker.log(e)}}}return $.datepicker._base_doKeyUp(e)};$.datepicker._base_gotoToday=$.datepicker._gotoToday;$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]);this._base_gotoToday(e);var i=this._get(t,"timepicker");if(!i){return}var s=$.timepicker.timezoneOffsetNumber(i.timezone);var n=new Date;n.setMinutes(n.getMinutes()+n.getTimezoneOffset()+parseInt(s,10));this._setTime(t,n);this._setDate(t,n);i._onSelectHandler()};$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(!t){return}var i=this._get(t,"timepicker");$(e).datepicker("getDate");if(i){t.settings.showTimepicker=false;i._defaults.showTimepicker=false;i._updateDateTime(t)}};$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(!t){return}var i=this._get(t,"timepicker");$(e).datepicker("getDate");if(i){t.settings.showTimepicker=true;i._defaults.showTimepicker=true;i._addTimePicker(t);i._updateDateTime(t)}};$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var s=i._defaults;i.hour=t?t.getHours():s.hour;i.minute=t?t.getMinutes():s.minute;i.second=t?t.getSeconds():s.second;i.millisec=t?t.getMilliseconds():s.millisec;i.microsec=t?t.getMicroseconds():s.microsec;i._limitMinMaxDateTime(e,true);i._onTimeChange();i._updateDateTime(e)}};$.datepicker._setTimeDatepicker=function(e,t,i){var s=this._getInst(e);if(!s){return}var n=this._get(s,"timepicker");if(n){this._setDateFromField(s);var a;if(t){if(typeof t==="string"){n._parseTime(t,i);a=new Date;a.setHours(n.hour,n.minute,n.second,n.millisec);a.setMicroseconds(n.microsec)}else{a=new Date(t.getTime());a.setMicroseconds(t.getMicroseconds())}if(a.toString()==="Invalid Date"){a=undefined}this._setTime(s,a)}}};$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker;$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e);var s=t;if(!i){return}if(typeof t==="string"){s=new Date(t);if(!s.getTime()){this._base_setDateDatepicker.apply(this,arguments);s=$(e).datepicker("getDate")}}var n=this._get(i,"timepicker");var a;if(s instanceof Date){a=new Date(s.getTime());a.setMicroseconds(s.getMicroseconds())}else{a=s}if(n&&a){if(!n.support.timezone&&n._defaults.timezone===null){n.timezone=a.getTimezoneOffset()*-1}s=$.timepicker.timezoneAdjust(s,$.timepicker.timezoneOffsetString(-s.getTimezoneOffset()),n.timezone);a=$.timepicker.timezoneAdjust(a,$.timepicker.timezoneOffsetString(-a.getTimezoneOffset()),n.timezone)}this._updateDatepicker(i);this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(e,a,true)};$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker;$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(!i){return}var s=this._get(i,"timepicker");if(s){if(i.lastVal===undefined){this._setDateFromField(i,t)}var n=this._getDate(i);var a=null;if(s.$altInput&&s._defaults.altFieldTimeOnly){a=s.$input.val()+" "+s.$altInput.val()}else if(s.$input.get(0).tagName!=="INPUT"&&s.$altInput){a=s.$altInput.val()}else{a=s.$input.val()}if(n&&s._parseTime(a,!i.settings.timeOnly)){n.setHours(s.hour,s.minute,s.second,s.millisec);n.setMicroseconds(s.microsec);if(s.timezone!=null){if(!s.support.timezone&&s._defaults.timezone===null){s.timezone=n.getTimezoneOffset()*-1}n=$.timepicker.timezoneAdjust(n,s.timezone,$.timepicker.timezoneOffsetString(-n.getTimezoneOffset()))}}return n}return this._base_getDateDatepicker(e,t)};$.datepicker._base_parseDate=$.datepicker.parseDate;$.datepicker.parseDate=function(t,i,s){var n;try{n=this._base_parseDate(t,i,s)}catch(e){if(e.indexOf(":")>=0){n=this._base_parseDate(t,i.substring(0,i.length-(e.length-e.indexOf(":")-2)),s);$.timepicker.log("Error parsing the date string: "+e+"\ndate string = "+i+"\ndate format = "+t)}else{throw e}}return n};$.datepicker._base_formatDate=$.datepicker._formatDate;$.datepicker._formatDate=function(e,t,i,s){var n=this._get(e,"timepicker");if(n){n._updateDateTime(e);return n.$input.val()}return this._base_formatDate(e)};$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker;$.datepicker._optionDatepicker=function(e,t,i){var s=this._getInst(e),n;if(!s){return null}var a=this._get(s,"timepicker");if(a){var r=null,l=null,u=null,o=a._defaults.evnts,c={},m,d,f,p;if(typeof t==="string"){if(t==="minDate"||t==="minDateTime"){r=i}else if(t==="maxDate"||t==="maxDateTime"){l=i}else if(t==="onSelect"){u=i}else if(o.hasOwnProperty(t)){if(typeof i==="undefined"){return o[t]}c[t]=i;n={}}}else if(typeof t==="object"){if(t.minDate){r=t.minDate}else if(t.minDateTime){r=t.minDateTime}else if(t.maxDate){l=t.maxDate}else if(t.maxDateTime){l=t.maxDateTime}for(m in o){if(o.hasOwnProperty(m)&&t[m]){c[m]=t[m]}}}for(m in c){if(c.hasOwnProperty(m)){o[m]=c[m];if(!n){n=$.extend({},t)}delete n[m]}}if(n&&isEmptyObject(n)){return}if(r){if(r===0){r=new Date}else{r=new Date(r)}a._defaults.minDate=r;a._defaults.minDateTime=r}else if(l){if(l===0){l=new Date}else{l=new Date(l)}a._defaults.maxDate=l;a._defaults.maxDateTime=l}else if(u){a._defaults.onSelect=u}if(r||l){p=$(e);f=p.datetimepicker("getDate");d=this._base_optionDatepicker.call($.datepicker,e,n||t,i);p.datetimepicker("setDate",f);return d}}if(i===undefined){return this._base_optionDatepicker.call($.datepicker,e,t)}return this._base_optionDatepicker.call($.datepicker,e,n||t,i)};var isEmptyObject=function(e){var t;for(t in e){if(e.hasOwnProperty(t)){return false}}return true};var extendRemove=function(e,t){$.extend(e,t);for(var i in t){if(t[i]===null||t[i]===undefined){e[i]=t[i]}}return e};var detectSupport=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return e.indexOf(t)!==-1?true:false};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}};var convert24to12=function(e){e%=12;if(e===0){e=12}return String(e)};var computeEffectiveSetting=function(e,t){return e&&e[t]?e[t]:$.timepicker._defaults[t]};var splitDateTime=function(e,t){var i=computeEffectiveSetting(t,"separator"),s=computeEffectiveSetting(t,"timeFormat"),n=s.split(i),a=n.length,r=e.split(i),l=r.length;if(l>1){return{dateString:r.splice(0,l-a).join(i),timeString:r.splice(0,a).join(i)}}return{dateString:e,timeString:""}};var parseDateTimeInternal=function(e,t,i,s,n){var a,r,l;r=splitDateTime(i,n);a=$.datepicker._base_parseDate(e,r.dateString,s);if(r.timeString===""){return{date:a}}l=$.datepicker.parseTime(t,r.timeString,n);if(!l){throw"Wrong time format"}return{date:a,timeObj:l}};var selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var i=t||new Date;e.timezone_select.val(-i.getTimezoneOffset())}};$.timepicker=new Timepicker;$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||e<-720){return e}var i=e,s=i%60,n=(i-s)/60,a=t?":":"",r=(i>=0?"+":"-")+("0"+Math.abs(n)).slice(-2)+a+("0"+Math.abs(s)).slice(-2);if(r==="+00:00"){return"Z"}return r};$.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");if(t.toUpperCase()==="Z"){return 0}if(!/^(\-|\+)\d{4}$/.test(t)){return parseInt(e,10)}return(t.substr(0,1)==="-"?-1:1)*(parseInt(t.substr(1,2),10)*60+parseInt(t.substr(3,2),10))};$.timepicker.timezoneAdjust=function(e,t,i){var s=$.timepicker.timezoneOffsetNumber(t);var n=$.timepicker.timezoneOffsetNumber(i);if(!isNaN(n)){e.setMinutes(e.getMinutes()+-s- -n)}return e};$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)};$.timepicker.datetimeRange=function(e,t,i){$.timepicker.handleRange("datetimepicker",e,t,i)};$.timepicker.dateRange=function(e,t,i){$.timepicker.handleRange("datepicker",e,t,i)};$.timepicker.handleRange=function(l,u,o,c){c=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},c);var e=false;if(l==="timepicker"){e=true;l="datetimepicker"}function i(e,t){var i=u[l]("getDate"),s=o[l]("getDate"),n=e[l]("getDate");if(i!==null){var a=new Date(i.getTime()),r=new Date(i.getTime());a.setMilliseconds(a.getMilliseconds()+c.minInterval);r.setMilliseconds(r.getMilliseconds()+c.maxInterval);if(c.minInterval>0&&a>s){o[l]("setDate",a)}else if(c.maxInterval>0&&r<s){o[l]("setDate",r)}else if(i>s){t[l]("setDate",n)}}}function t(e,t,i){if(!e.val()){return}var s=e[l].call(e,"getDate");if(s!==null&&c.minInterval>0){if(i==="minDate"){s.setMilliseconds(s.getMilliseconds()+c.minInterval)}if(i==="maxDate"){s.setMilliseconds(s.getMilliseconds()-c.minInterval)}}if(s.getTime){t[l].call(t,"option",i,s)}}$.fn[l].call(u,$.extend({timeOnly:e,onClose:function(e,t){i($(this),o)},onSelect:function(e){t($(this),o,"minDate")}},c,c.start));$.fn[l].call(o,$.extend({timeOnly:e,onClose:function(e,t){i($(this),u)},onSelect:function(e){t($(this),u,"maxDate")}},c,c.end));i(u,o);t(u,o,"minDate");t(o,u,"maxDate");return $([u.get(0),o.get(0)])};$.timepicker.log=function(){if(window.console&&window.console.log&&window.console.log.apply){window.console.log.apply(window.console,Array.prototype.slice.call(arguments))}};$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal};if(!Date.prototype.getMicroseconds){Date.prototype.microseconds=0;Date.prototype.getMicroseconds=function(){return this.microseconds};Date.prototype.setMicroseconds=function(e){this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3));this.microseconds=e%1e3;return this}}$.timepicker.version="1.6.3"});